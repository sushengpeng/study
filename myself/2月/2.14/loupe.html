<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .img {
            width: 280px;
            height: 280px;
            margin: 0 auto;
            position: relative;
            margin-top: 200px;
        }

        .img .mask {
            width: 84px;
            height: 84px;
            position: absolute;
            background-image: url("2.png");
            display: none;
            margin-top: -42px;
            margin-left: -42px;
        }

        .img1 {
            position: absolute;
            width: 280px;
            height: 280px;
            background-color: aqua;
            left: 290px;
            top: 0px;
            display: none;
            overflow: hidden;
        }

        .img1 img {
            position: relative;

        }
    </style>
</head>

<body>
    <div class="img">
        <img src="./download.jpg" alt="" width="280px" height="280px">
        <div class="mask"></div>
        <div class="img1">
            <img src="" alt="">
        </div>
    </div>
    <script>
        var img = document.getElementsByClassName("img")[0];
        var img1 = document.getElementsByClassName("img1")[0];
        var mask = document.getElementsByClassName("mask")[0];
        img.onmouseenter = function () {
            img1.style.display = "block";
            mask.style.display = "block";
        }
        img.onmousemove = function (e) {
            e = e || window.event;
            var target = e.target || e.srcElement;
            var left = e.clientX - img.getBoundingClientRect().left;
            var top1 = e.clientY - img.getBoundingClientRect().top;
            console.log(left, top1)
            if(left<42){
                left=42;
            }
            if(left>238){
                left=238;
            }
            if(top1<42){
                top1=42;
            }
            if(top1>238){
                top1=238;
            }
            mask.style.left = left + "px";
            mask.style.top = top1 + "px";
            var imgsrc = target.parentNode.children[0].getAttribute("src");
            img1.children[0].setAttribute("src", imgsrc);
            img1.children[0].style.width = 280 * 10 / 3 + "px";
            img1.children[0].style.height = 280 * 10 / 3 + "px";
            img1.children[0].style.top = -(top1- 42) * 10 / 3 + "px";
            img1.children[0].style.left = -(left - 42) * 10 / 3 + "px";
        }
        img.onmouseleave = function () {
            mask.style.display = "none";
            img1.style.display = "none";
        }
    </script>
</body>

</html>