<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="js/rem.js" ></script>
    <link rel="stylesheet" href="css/swiper.css">
    <link rel="stylesheet" href="css/animate.min.css" />
    <style>
        *{
            margin: 0;
            padding:0;
            box-sizing: border-box;
        }
        .swiper-container{
            width:100%;
            height: 100vh;
        }
        .swiper-slide:nth-child(1){
            background-color: red;
        }
        .swiper-slide:nth-child(2){
            background-color: green;
        }
        .swiper-slide:nth-child(3){
            background-color: blue;
        }
        .ani{
            position: absolute;
        }

        @keyframes fly {
            0%{
                transform: translate(-100%,0) rotate(-360deg);
                opacity: 0;
            }
            100%{
                transform: translate(0,0) rotate(0deg);
                opacity: 1;
            }
        }
        .fly {
          -webkit-animation-name: fly;
          animation-name: fly;
        }
    </style>
</head>
<body>
    <div class="swiper-container">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <p class="ani" swiper-animate-effect="fly" swiper-animate-duration="1.4s" swiper-animate-delay="0.2s">Slide 1</p>
                </div>
                <div class="swiper-slide">
                    <p class="ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.4s" swiper-animate-delay="0.2s">Slide 2</p>
                </div>
                <div class="swiper-slide">
                    <p class="ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.4s" swiper-animate-delay="0.2s">Slide 3</p>
                </div>
            </div>
            
    </div>
    <script src="js/swiper.min.js"></script>
    <script src="js/swiper.animate.min.js"></script>
    <script>
        // cover flow是类似于苹果将多首歌曲的封面以3D界面的形式显示出来的方式。coverflow效果参数，可选值：

        // rotate：slide做3d旋转时Y轴的旋转角度。默认50。
        // stretch：每个slide之间的拉伸值，越大slide靠得越紧。 默认0。
        // depth：slide的位置深度。值越大z轴距离越远，看起来越小。 默认100。
        // modifier：depth和rotate和stretch的倍率，相当于depth*modifier、rotate*modifier、stretch*modifier，值越大这三个参数的效果越明显。默认1。
        // slideShadows：开启slide阴影。默认 true。
        var demo = new Swiper(".swiper-container",{
            direction : 'vertical',
            // effect : 'flip',
            effect : 'coverflow',
            slidesPerView: 1,
            centeredSlides: true,
            coverflowEffect: {
                rotate: 25,
                stretch: 10,
                depth: 60,
                modifier: 2,
                slideShadows : true
            },
            on:{
                init: function(){
                    swiperAnimateCache(this); //隐藏动画元素 
                    this.emit('slideChangeTransitionEnd');//在初始化时触发一次slideChangeTransitionEnd事件
                }, 
                slideChangeTransitionEnd: function(){ 
                    swiperAnimate(this); //每个slide切换结束时运行当前slide动画
                    // this.slides.eq(this.activeIndex).find('.ani').removeClass('ani'); //打开后动画只展示一次
                } 
            }

            
            
        })
    </script>
</body>
</html>